<!doctype html>
<html ng-app="urlParserApp">
  <head>
    <title>URL Parser</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <script
       src="https://code.jquery.com/jquery-3.1.0.min.js"
       integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
       crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="url_parser_client.js"></script>

  </head>
  <body ng-controller="UrlParsersController" ng-init="loadUrls();loadContent()">
    <center><h2>Url Parser</h2></center>
    <hr/>
    
    <div class="col-md-8">
      <form name="url" ng-submit="save()">
	<div class="col-md-12">
	  <div class="col-md-2">	  <label for="url">url</label></div>
	  <div class="col-md-8">
	    	  <input type="text" class="form-control" id="url" placeholder="URL" name="url[source]" ng-model = "newUrl.source" ng-required="true">
	  </div>
	  <div class="col-md-2">
	    <button type="submit" class="btn btn-default">Submit</button>
	  </div>
	  
	</div>

      </form>

      <table class="table table-bordered">
	<thead>
	  <th>S.No</th>
	  <th>Url</th>
	  <th>Configured at</th>
	</thead>
	<tbody>
	  <tr ng-repeat="u in urls">
	    <td>{{$index+1}}</td>
	    <td><a href="#" ng-click="loadUrlContents(u)">{{u.source}}</a></td>
	    <td>{{u.created_at}}</td>
	  </tr>
	</tbody>
      </table>

    </div>


    
    <div class="col-md-10">
      <h3>Content</h3>
      <hr/>

      <table class="table table-bordered">
	<thead>
	  <th>S.No</th>
	  <th>Content</th>
	  <th>Content Type</th>
	  <th>Url</th>
	</thead>
	<tbody>
	  <tr ng-repeat="c in contents">
	    <td>{{$index+1}}</td>
	    <td>{{c.content}}</td>
	    <td>{{c.content_type}}</td>
	    <td>{{c.url_source}}</td>
	  </tr>
	</tbody>
      </table>
    </div>
  </body>
</html>
